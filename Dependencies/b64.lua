local a={}local b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'a.encode=function(c)return(c:gsub('.',function(d)local e,b='',d:byte()for f=8,1,-1 do e=e..(b%2^f-b%2^(f-1)>0 and'1'or'0')end;return e end)..'0000'):gsub('%d%d%d?%d?%d?%d?',function(d)if#d<6 then return''end;local g=0;for f=1,6 do g=g+(d:sub(f,f)=='1'and 2^(6-f)or 0)end;return b:sub(g+1,g+1)end)..({'','==','='})[#c%3+1]end;a.decode=function(c)c=string.gsub(c,'[^'..b..'=]','')return c:gsub('.',function(d)if d=='='then return''end;local e,h='',b:find(d)-1;for f=6,1,-1 do e=e..(h%2^f-h%2^(f-1)>0 and'1'or'0')end;return e end):gsub('%d%d%d?%d?%d?%d?%d?%d?',function(d)if#d~=8 then return''end;local g=0;for f=1,8 do g=g+(d:sub(f,f)=='1'and 2^(8-f)or 0)end;return string.char(g)end)end;return a
